{% extends "rest/_layout" %}

{% block main %}

    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <h1>Sending a simple request</h1>

                <hr>

                <h3>Template</h3>

                <pre>{{ "{% set response = craft.rest.request.url('http://api.dribbble.com/shots/everyone').send() %}" }}</pre>

                <h3>Response</h3>

                {% set response = craft.rest.request.url('http://api.dribbble.com/shots/everyone').send() %}

                {% if response.success %}

                    {% set data = response.data %}

                    <pre>{{ dump(data) }}</pre>

                {% else %}

                    <p>
                        <strong>An error occured:</strong>

                        {% set data = response.data %}
                        <pre>{{ dump(data) }}</pre>
                    </p>

                {% endif %}

            </div>
        </div>
    </div>

{% endblock %}
